window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".loader"),t=document.querySelector("input");setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.style.display="none",t.style.display="block"},500)},2e3);const n={key:"71a4c531e6f23839db88372fc001401e",baseurl:"https://api.openweathermap.org/data/2.5/"},r=document.querySelector(".search-box");function o(e){let t=document.querySelector(".location .city"),n=document.querySelector("body"),r=new Date,o=document.querySelector(".temp"),a=document.querySelector(".location .date"),u=document.querySelector(".weather"),i=document.querySelector(".hi-low"),c={Clear:"img/clear.jpg",Clouds:"img/clouds.jpg",Rain:"img/rain.jpg",Snow:"img/snow.jpg",Smoke:"img/smoke.jpg",Thunderstorm:"img/thunderstorm.jpg",Haze:"img/haze.jpg",Mist:"img/mist.jpg"};for(bg in t.innerHTML=`${e.name}, ${e.sys.country}`,a.innerHTML=function(e){let t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],n=e.getDate(),r=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],o=e.getFullYear();return`${t} ${n} ${r} ${o}`}(r),o.innerHTML=`${Math.round(e.main.temp)}°C`,u.innerHTML=e.weather[0].main,i.innerHTML=`${Math.round(e.main.temp_min)}°C / ${Math.round(e.main.temp_max)} °C`,c)u.textContent!=bg?n.style.background=`url('${c[u.textContent]}')`:n.style.background="url('img/bg.jpg')"}r.addEventListener("keypress",function(e){13==e.keyCode&&(t=r.value,fetch(`${n.baseurl}weather?q=${t}&units=metric&APPID=${n.key}`).then(e=>e.json()).then(o),r.value="");var t})});